{
  "type": "object",
  "properties": {
    "version": {
      "const": "0.0.1"
    },
    "entities": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/entity"
      }
    }
  },
  "$defs": {
    "entity": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "transform": {
          "type": "object",
          "properties": {
            "position": {
              "$ref": {
                "$ref": "$#/$defs/objects/vector3"
              }
            },
            "rotation": {
              "$ref": {
                "$ref": "$#/$defs/objects/quaternion"
              }
            },
            "scale": {
              "$ref": {
                "$ref": "$#/$defs/objects/vector3"
              }
            }
          }
        },
        "children": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/entity"
          }
        },
        "modules": {
          "type": "array",
          "items": {
            "oneOf": [
              {
                "$ref": "#/$defs/modules/camera"
              },
              {
                "$ref": "#/$defs/modules/light"
              },
              {
                "$ref": "#/$defs/modules/mesh"
              },
              {
                "$ref": "#/$defs/modules/rigidbody"
              },
              {
                "$ref": "#/$defs/modules/collider"
              }
            ]
          }
        }
      }
    },
    "modules": {
      "camera": {
        "type": "object",
        "properties": {
          "type": {
            "const": "camera"
          }
        }
      },
      "light": {
        "type": "object",
        "properties": {
          "type": {
            "const": "light"
          },
          "lightType": {
            "type": "string",
            "enum": [
              "directional",
              "point",
              "spot",
              "ambient"
            ]
          },
          "intensity": {
            "type": "number"
          },
          "castShadows": {
            "type": "boolean"
          },
          "color": {
            "$ref": "$#/$defs/objects/color"
          },
          "directionalVector": {
            "$ref": "$#/$defs/objects/vector3"
          }
        }
      },
      "mesh": {
        "type": "object",
        "properties": {
          "type": {
            "const": "mesh"
          },
          "gemoetry": {
            "$ref": "$#/$defs/objects/geometry"
          },
          "material": {
            "$ref": "$#/$defs/objects/material"
          }
        }
      },
      "rigidbody": {
        "type": "object",
        "properties": {
          "type": {
            "const": "rigidbody"
          },
          "mass": {
            "type": "number"
          }
        }
      },
      "collider": {
        "type": "object",
        "properties": {
          "type": {
            "const": "collider"
          },
          "colliderType": {
            "type": "string",
            "enum": [
              "ball",
              "box",
              "capsule"
            ]
          },
          "radius": {
            "type": "number"
          },
          "halfHeight": {
            "type": "number"
          },
          "halfExtents": {
            "$ref": "$#/$defs/objects/vector3"
          }
        }
      }
    },
    "objects": {
      "material": {
        "type": "object",
        "properties": {
          "type": {
            "const": "material"
          },
          "opacity": {
            "type": "number"
          }
        }
      },
      "geometry": {
        "type": "object",
        "properties": {
          "type": {
            "const": "geometry"
          }
        }
      },
      "vector3": {
        "type": "object",
        "properties": {
          "x": {
            "type": "number"
          },
          "y": {
            "type": "number"
          },
          "z": {
            "type": "number"
          }
        }
      },
      "quaternion": {
        "type": "object",
        "properties": {
          "x": {
            "type": "number"
          },
          "y": {
            "type": "number"
          },
          "z": {
            "type": "number"
          },
          "w": {
            "type": "number"
          },
          "$eulerAngles": {
            "type": "object",
            "properties": {
              "x": {
                "type": "number"
              },
              "y": {
                "type": "number"
              },
              "z": {
                "type": "number"
              }
            }
          }
        }
      },
      "color": {
        "type": "object",
        "properties": {
          "r": {
            "type": "number"
          },
          "g": {
            "type": "number"
          },
          "b": {
            "type": "number"
          },
          "a": {
            "type": "number"
          }
        }
      }
    }
  }
}